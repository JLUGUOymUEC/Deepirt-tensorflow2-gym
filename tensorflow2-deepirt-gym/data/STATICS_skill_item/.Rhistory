#L3<-c(0.324,0.598,-0.464,-0.534,-0.492,-0.396,-0.232,-0.045,0.072,0.169,0.223,0.364,0.473,0.594,0.7,0.922,1.002,1.088)
par(mar=c(4, 4, 1, 3) + 0.1)
TIRT<-c(-0.202,-0.162,-0.015,-0.005,-0.045,-0.133,-0.128,-0.109,-0.138,-0.077,0.065,0.135,0.263,0.215,0.258,0.432,0.510,0.597,0.674,0.639,0.567,0.471,0.440,0.346,0.339,0.340,0.432,0.469,0.500,0.591,0.751,0.696,0.759,0.865,0.982,1.136,1.100,0.956,1.003,1.114,1.269,1.211,1.172,1.275,1.138,1.175,1.152,1.090,1.075,1.200,1.356,1.485,1.581,1.697,1.760,1.415,1.015,0.524,0.271,0.160,-0.019,-0.071,-0.078,-0.121,0.325,0.522,0.626,0.801,0.725,0.811,0.859,0.946,0.955,1.088,1.105,0.883,0.630,0.962,1.244,1.574,1.587,1.464,1.299,1.097,0.804,1.182,1.631,1.808,1.969,1.944,1.703,1.422,1.261,1.380,1.267,1.088,0.944,0.744,0.376,0.636,1.365,1.736,1.853,1.803,1.693,1.522,2.053,2.427,2.657,2.761,2.598,2.372,2.031,1.737,1.518,1.131,0.647,0.663,0.551,1.203,1.613,1.789,1.390,1.828,2.023)
L125<-c(-0.466,-0.75,-0.539,-0.636,-0.12,-0.232,-0.393,-0.16,-0.291,-0.436,-0.222,0.101,0.37,0.393,0.29,0.45,0.672,0.885,1.081,1.114,1.236,1.249,1.315,1.162,1.186,1.208,1.235,1.245,1.256,1.294,1.305,1.313,1.335,1.355,1.367,1.417,1.448,1.359,1.378,1.404,1.48,1.487,1.502,1.553,1.565,1.576,1.587,1.592,1.595,1.601,1.623,1.633,1.637,1.666,1.75,1.775,1.788,1.797,1.731,1.673,1.674,1.677,1.685,1.573,1.579,1.588,1.596,1.615,1.622,1.628,1.628,1.645,1.648,1.659,1.683,1.692,1.607,1.616,1.628,1.664,1.681,1.697,1.708,1.718,1.623,1.626,1.645,1.666,1.699,1.724,1.728,1.731,1.681,1.702,1.717,1.724,1.729,1.743,1.676,1.624,1.651,1.679,1.697,1.723,1.727,1.676,1.703,1.732,1.74,1.78,1.785,1.79,1.797,1.803,1.812,1.819,1.766,1.77,1.726,1.734,1.747,1.782,1.732,1.747,1.764)
L4<-c(-0.574,-0.844,-0.597,-0.679,0.093,0.037,0.15,0.478,0.629,0.748,0.77,1.002,1.613,2.063,2.317,2.428,2.96,3.381,3.855,3.99,4.118,3.768,3.033,2.396,2.041,1.679,1.636,1.438,1.306,1.431,1.506,1.455,1.604,1.89,2.022,2.352,2.113,1.931,1.989,2.087,2.259,2.562,2.601,2.523,2.45,2.016,1.669,1.41,1.504,1.541,1.793,1.925,2.156,2.588,2.76,2.748,2.52,2.392,2.121,1.705,1.247,0.869,0.393,-0.007,-0.362,-0.538,-0.133,0.171,0.342,0.513,0.672,0.913,0.897,0.989,1.087,0.777,0.261,-0.005,0.321,0.741,1.127,1.315,1.356,1.138,0.895,0.714,0.931,1.078,1.443,1.634,1.864,1.513,1.277,1.225,1.049,1.301,1.35,1.053,1.047,1.187,1.557,1.776,2.086,2.205,2.218,2.312,2.457,2.419,2.157,2.26,2.443,2.498,2.235,2.147,1.892,1.743,1.656,1.615,1.384,1.441,1.54,1.768,1.949,2.361,2.521)
#res<-"1,1,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1"
res<-c(0,0,1,0,1,0,0,1,0,0,1,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1)
pchs <- c("","","","*")
ltys <- c(1,2,3,1)
plot(c(0,0), xlim=c(1,125), ylim = c(-3,5), type = "n",xlab="task",ylab=expression(paste("Ability Value ",theta)))
lines(L125,  lwd = 1.5)
par(new=T)
lines(L4,   lwd = 1.5,ann=F,lty=2,col=1)
par(new=T)
lines(TIRT,   lwd = 1.5,ann=F,lty=3,col=1)
par(new=T)
plot(res, xlim=c(1,125), ylim=c(-1, 9),type="o", axes=F, xlab="", ylab="",lty=1,pch="*")
#lines(res,   lwd = 1.5,ann=F,lty=3,col=1)
mtext("Response",side = 4)
axis(side=4,c(0,1),cex=0.8)
mtext(text="Sliding HMIRT(L=4,sigma=0.5)",at=5,line=-1.5,padj=2.5,adj=-0.6,cex=1.1)
mtext(text="IRT",at=65,line=-3.5,padj=2.5,adj=-0.6,cex=1.1)
mtext(text="TIRT",at=30,line=-7.0,padj=2.5,adj=-0.6,cex=1.1)
mtext(text="Response",at=100,line=-10.5,padj=2.5,adj=-0.6,cex=1.1)
#par(new=T)
#plot(res,xlim=c(1, 18),  xaxt="n",ylim=c(0.0,1.2),type="o",lwd = 1.3,ann=F,col=1,axes=FALSE)
#mtext("z",side = 4, line = 3)  # right y label
#axis(4)
legend("topright", legend=c("IRT","Sliding HMIRT","TIRT","Response"),lwd=2, lty=ltys,pch=pchs,cex = 0.9,ncol = 2)
#legend("topright", legend=res,cex = 1.2)
#L18<-c(0.364,0.652,0.201,-0.047,-0.24,-0.064,0.157,0.305,0.482,0.248,0.121,0.173,0.218,0.252,0.381,0.391,0.407,0.413)
#L3<-c(0.324,0.598,-0.464,-0.534,-0.492,-0.396,-0.232,-0.045,0.072,0.169,0.223,0.364,0.473,0.594,0.7,0.922,1.002,1.088)
par(mar=c(4, 4, 1, 3) + 0.1)
TIRT<-c(-0.202,-0.162,-0.015,-0.005,-0.045,-0.133,-0.128,-0.109,-0.138,-0.077,0.065,0.135,0.263,0.215,0.258,0.432,0.510,0.597,0.674,0.639,0.567,0.471,0.440,0.346,0.339,0.340,0.432,0.469,0.500,0.591,0.751,0.696,0.759,0.865,0.982,1.136,1.100,0.956,1.003,1.114,1.269,1.211,1.172,1.275,1.138,1.175,1.152,1.090,1.075,1.200,1.356,1.485,1.581,1.697,1.760,1.415,1.015,0.524,0.271,0.160,-0.019,-0.071,-0.078,-0.121,0.325,0.522,0.626,0.801,0.725,0.811,0.859,0.946,0.955,1.088,1.105,0.883,0.630,0.962,1.244,1.574,1.587,1.464,1.299,1.097,0.804,1.182,1.631,1.808,1.969,1.944,1.703,1.422,1.261,1.380,1.267,1.088,0.944,0.744,0.376,0.636,1.365,1.736,1.853,1.803,1.693,1.522,2.053,2.427,2.657,2.761,2.598,2.372,2.031,1.737,1.518,1.131,0.647,0.663,0.551,1.203,1.613,1.789,1.390,1.828,2.023)
L125<-c(-0.466,-0.75,-0.539,-0.636,-0.12,-0.232,-0.393,-0.16,-0.291,-0.436,-0.222,0.101,0.37,0.393,0.29,0.45,0.672,0.885,1.081,1.114,1.236,1.249,1.315,1.162,1.186,1.208,1.235,1.245,1.256,1.294,1.305,1.313,1.335,1.355,1.367,1.417,1.448,1.359,1.378,1.404,1.48,1.487,1.502,1.553,1.565,1.576,1.587,1.592,1.595,1.601,1.623,1.633,1.637,1.666,1.75,1.775,1.788,1.797,1.731,1.673,1.674,1.677,1.685,1.573,1.579,1.588,1.596,1.615,1.622,1.628,1.628,1.645,1.648,1.659,1.683,1.692,1.607,1.616,1.628,1.664,1.681,1.697,1.708,1.718,1.623,1.626,1.645,1.666,1.699,1.724,1.728,1.731,1.681,1.702,1.717,1.724,1.729,1.743,1.676,1.624,1.651,1.679,1.697,1.723,1.727,1.676,1.703,1.732,1.74,1.78,1.785,1.79,1.797,1.803,1.812,1.819,1.766,1.77,1.726,1.734,1.747,1.782,1.732,1.747,1.764)
L4<-c(-0.574,-0.844,-0.597,-0.679,0.093,0.037,0.15,0.478,0.629,0.748,0.77,1.002,1.613,2.063,2.317,2.428,2.96,3.381,3.855,3.99,4.118,3.768,3.033,2.396,2.041,1.679,1.636,1.438,1.306,1.431,1.506,1.455,1.604,1.89,2.022,2.352,2.113,1.931,1.989,2.087,2.259,2.562,2.601,2.523,2.45,2.016,1.669,1.41,1.504,1.541,1.793,1.925,2.156,2.588,2.76,2.748,2.52,2.392,2.121,1.705,1.247,0.869,0.393,-0.007,-0.362,-0.538,-0.133,0.171,0.342,0.513,0.672,0.913,0.897,0.989,1.087,0.777,0.261,-0.005,0.321,0.741,1.127,1.315,1.356,1.138,0.895,0.714,0.931,1.078,1.443,1.634,1.864,1.513,1.277,1.225,1.049,1.301,1.35,1.053,1.047,1.187,1.557,1.776,2.086,2.205,2.218,2.312,2.457,2.419,2.157,2.26,2.443,2.498,2.235,2.147,1.892,1.743,1.656,1.615,1.384,1.441,1.54,1.768,1.949,2.361,2.521)
#res<-"1,1,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1"
res<-c(0,0,1,0,1,0,0,1,0,0,1,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,1,1)
pchs <- c("","","","*")
ltys <- c(1,2,3,1)
plot(c(0,0), xlim=c(1,125), ylim = c(-3,5), type = "n",xlab="task",ylab=expression(paste("Ability Value ",theta)))
lines(L125,  lwd = 1.5)
par(new=T)
lines(L4,   lwd = 1.5,ann=F,lty=2,col=1)
par(new=T)
lines(TIRT,   lwd = 1.5,ann=F,lty=3,col=1)
par(new=T)
plot(res, xlim=c(1,125), ylim=c(-1, 9),type="o", axes=F, xlab="", ylab="",lty=1,pch="*")
#lines(res,   lwd = 1.5,ann=F,lty=3,col=1)
mtext("Response",side = 4)
axis(side=4,c(0,1),cex=0.8)
mtext(text="Sliding HMIRT(L=4,sigma=0.5)",at=5,line=-1.5,padj=2.5,adj=-0.6,cex=1.1)
mtext(text="IRT",at=65,line=-3.5,padj=2.5,adj=-0.6,cex=1.1)
mtext(text="TIRT",at=30,line=-7.0,padj=2.5,adj=-0.6,cex=1.1)
mtext(text="Response",at=100,line=-8.5,padj=2.5,adj=-0.6,cex=1.1)
#par(new=T)
#plot(res,xlim=c(1, 18),  xaxt="n",ylim=c(0.0,1.2),type="o",lwd = 1.3,ann=F,col=1,axes=FALSE)
#mtext("z",side = 4, line = 3)  # right y label
#axis(4)
legend("topright", legend=c("IRT","Sliding HMIRT","TIRT","Response"),lwd=2, lty=ltys,pch=pchs,cex = 0.9,ncol = 2)
#legend("topright", legend=res,cex = 1.2)
source('~/Documents/時系列データ実験/予測精度実験/theta.R')
source('~/Documents/時系列データ実験/予測精度実験/theta.R')
#L18<-c(0.364,0.652,0.201,-0.047,-0.24,-0.064,0.157,0.305,0.482,0.248,0.121,0.173,0.218,0.252,0.381,0.391,0.407,0.413)
#L3<-c(0.324,0.598,-0.464,-0.534,-0.492,-0.396,-0.232,-0.045,0.072,0.169,0.223,0.364,0.473,0.594,0.7,0.922,1.002,1.088)
par(mar=c(4, 4, 1, 3) + 0.1)
L125<-c(-0.431,-0.022,0.127,0.539,0.39,0.249,0.456,0.24,0.478,0.293,0.465,0.37,0.632,0.65,0.798,0.632,0.547,0.757,0.707,0.752,0.687,0.713,0.616,0.688,0.723,0.753,0.794,0.811,0.823,0.874,0.889,0.902,0.932,0.953,0.972,1.034,1.08,1.019,0.91,0.945,0.892,0.906,0.929,0.993,1.009,1.024,1.042,1.048,1.053,1.064,1.096,1.112,1.119,1.153,1.12,1.152,1.168,1.181,1.15,1.114,1.116,1.123,1.135,1.141,1.15,1.161,1.169,1.188,1.202,1.208,1.209,1.232,1.237,1.249,1.276,1.284,1.292,1.303,1.318,1.257,1.201,1.223,1.238,1.252,1.26,1.264,1.207,1.162,1.206,1.166,1.172,1.177,1.153,1.177,1.121,1.061,1.069,1.087,1.098,1.121,1.085,1.057,1.025,1.054,1.06,1.083,1.05,1.027,1.036,1.082,1.088,1.098,1.107,1.116,1.129,1.093,1.118,1.123,1.14,1.152,1.166,1.203,1.216,1.187,1.206)
L4<-c(0.272,0.588,0.655,1.01,0.892,0.578,0.44,0,-0.413,-0.862,-1.405,-1.555,-1.573,-1.582,-1.511,-1.847,-1.509,-1.03,-0.868,-0.631,-0.151,0.09,0.528,0.23,-0.008,0.225,0.415,0.501,0.612,0.59,0.433,0.483,0.946,1.329,1.608,1.352,1.328,1.303,1.341,1.385,1.472,1.365,0.749,0.501,0.271,-0.106,-0.483,-0.149,-0.165,-0.164,-0.077,-0.11,-0.053,-0.315,-0.427,-0.105,-0.159,-0.115,-0.06,-0.039,-0.37,-0.797,-0.801,-0.659,-0.666,-0.597,-0.445,-0.614,-0.704,-0.801,-0.771,-0.748,-0.542,0.082,-0.103,-0.055,0.237,0.499,0.569,0.808,0.839,1.158,0.937,0.566,0.59,0.257,0.003,-0.044,0.124,0.372,0.434,0.352,0.133,0.184,0.333,0.673,0.59,0.418,0.229,0.058,-0.078,-0.192,-0.145,0.058,0.242,0.365,0.609,0.846,1.024,0.841,0.658,0.202,-0.18,-0.15,0.003,0.442,0.567,0.959,1.024,0.948,0.831,0.584,0.123,-0.175,-0.534)
DeepIRT<-c(1.029,1.052,1.076,1.099,1.122,1.145,1.111,1.077,1.100,1.067,1.090,1.057,1.024,0.991,1.015,0.982,0.950,0.975,0.942,0.967,0.991,0.959,0.983,1.007,1.031,0.999,1.023,1.046,1.070,1.093,1.116,1.139,1.162,1.184,1.206,1.228,1.249,1.271,1.236,1.257,1.278,1.300,1.320,1.341,1.361,1.382,1.345,1.309,1.274,1.238,1.204,1.225,1.247,1.212,1.177,1.199,1.221,1.243,1.265,1.286,1.307,1.328,1.348,1.369,1.389,1.409,1.428,1.448,1.467,1.430,1.449,1.469,1.488,1.507,1.525,1.544,1.562,1.580,1.598,1.616,1.633,1.651,1.668,1.685,1.702,1.718,1.735,1.695,1.656,1.673,1.690,1.706,1.667,1.684,1.645,1.662,1.623,1.640,1.601,1.619,1.580,1.542,1.504,1.523,1.485,1.504,1.523,1.485,1.504,1.467,1.486,1.504,1.523,1.485,1.448,1.411,1.375,1.338,1.477,1.469,1.462,1.455,1.447,1.440,1.433)
DeepIRT_item<-c(1.526,1.086,1.808,0.496,0.061,0.623,1.079,1.022,0.685,1.203,1.044,0.478,0.550,2.617,0.685,0.915,-0.079,0.132,-0.263,1.223,0.158,1.887,0.423,0.727,1.261,1.415,1.121,1.730,0.481,-0.291,1.000,0.690,-0.509,1.374,0.710,-0.114,0.946,0.899,0.759,1.249,1.549,0.943,0.112,0.719,1.233,-0.024,-1.119,1.809,1.203,0.606,1.106,0.450,0.505,0.493,-0.017,0.525,0.867,1.826,-0.190,0.762,0.330,-0.269,0.358,0.722,0.203,-0.143,-0.821,-0.380,-0.507,-0.144,-0.203,0.271,0.741,-0.596,-0.605,-0.955,-0.991,0.162,0.374,-1.378,-0.762,-0.657,-0.016,0.129,-0.484,-0.042,-0.519,-0.985,-0.761,-0.946,0.160,-1.435,-0.018,-0.032,-0.201,-0.275,-0.774,0.262,-0.691,-0.271,-0.698,-1.598,-0.508,-0.826,-0.842,-1.426,-1.432,-1.438,-1.444,-1.449,-1.455,-1.460,-1.465,-1.471,-1.476,-1.481,-1.486,-1.491,-1.496,-1.501,-1.506,-1.510,-1.515,-1.519,-1.524)
#res<-"1,1,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1"
res<-c(1,1,1,1,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,1,0,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,0,1,0,1,1,0,0,1,1,1,0,1,0,1,0,1,1,0,0,0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,1,0,0,1,1,0,1,1,0,1,0,1,1,1,0,1,0,0,0,1,1)
pchs <- c("","","","","","*")
ltys <- c(1,2,3,4,5,1)
plot(c(0,0), xlim=c(1,125), ylim = c(-5,5), type = "n",xlab="task",ylab=expression(paste("Ability Value ",theta)))
lines(L125,  lwd = 2.0,col = rainbow(12)[3])
par(new=T)
lines(L4,   lwd = 2.0,ann=F,lty=2,col=rainbow(12)[1])
par(new=T)
#lines(TIRT,   lwd = 1.5,ann=F,lty=3,col=1)
#par(new=T)
lines(DeepIRT,   lwd = 2.0,ann=F,lty=4,col=rainbow(12)[5])
par(new=T)
lines(DeepIRT_item,   lwd = 2.0,ann=F,lty=5,col=rainbow(12)[8])
par(new=T)
plot(res-1, xlim=c(1,125), ylim=c(-1, 9),type="o", axes=F, xlab="", ylab="",lty=1,pch="*")
#lines(res,   lwd = 1.5,ann=F,lty=3,col=1)
mtext("Response",side = 4)
#axis(side=4,c(0,1),cex=0.8)
axis(4, at=c(-1, 0), labels=c(0,1))
mtext(text="Sliding HMIRT 82.3%(88.7%,73.6%)",at=-10,line=-10.5,padj=2.5,adj=-0.6,cex=1.1)
mtext(text="IRT 70.1%(93.0%,39.6%)",at=30,line=-3.5,padj=2.5,adj=-0.6,cex=1.1)
mtext(text="Deep-IRT(skill) 57.6%(100%,0.0%)",at=60,line=-3.5,padj=2.5,adj=-0.6,cex=1.1)
mtext(text="Deep-IRT(item) 44.0%(18.3%,81.1%)",at=60,line=-10,padj=2.5,adj=-0.6,cex=1.1)
mtext(text="Response",at=100,line=-12.0,padj=2.5,adj=-0.6,cex=1.1)
#par(new=T)
#plot(res,xlim=c(1, 18),  xaxt="n",ylim=c(0.0,1.2),type="o",lwd = 1.3,ann=F,col=1,axes=FALSE)
#mtext("z",side = 4, line = 3)  # right y label
#axis(4)
legend("topright", legend=c("IRT","Sliding HMIRT","Deep-IRT(skill)","Deep-IRT(item)")
,lwd=2, lty=ltys,pch=pchs,col =c(rainbow(12)[c(3,1,5,8)],"black"),cex = 0.9,ncol = 2)
#legend("topright", legend=res,cex = 1.2)
source('~/Documents/時系列データ実験/予測精度実験/theta_skill.R')
source('~/Documents/時系列データ実験/予測精度実験/theta_skill.R')
par(mar=c(4, 4, 1, 3) + 0.1)
S1<-c(-0.004751206,0.058004472,1.013285342,1.020258195,1.85524256,1.848557848,1.80343604,1.674755329,1.470871604,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.975567381,1.975567381,2.034058613,2.034058613,1.992279161,1.992279161,1.992279161,1.992279161,1.992279161,1.992279161)
S2<-c(0,0,0,0,0,0,0,0,0,0,0.000257036,0.272659064,0.56344405,0.56344405,0.56344405,0.56344405,0.56344405,0.56344405,0.56344405,0.66037237,0.66037237,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314)
S3<-c(0,0,0,0,0,0,0,0,0,0,0,0,0,-0.000351568,0.289916575,1.837554776,2.181474377,3.147654118,3.433425568,3.433425568,3.433425568,3.433425568,3.433425568,3.433425568,3.433425568,3.749278222,3.749278222,4.021680247,4.021680247,4.008310823,4.008310823,3.819467701)
S4<-c(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.000114124,-0.000114124,-0.000114124,0.202468845,0.202468845,0.202468845,0.202468845,0.202468845,0.886784545,0.886784545,1.548038955,1.548038955)
res<-c(1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1)
color<-c(1,1,1,1,1,1,1,1,1,1,5,5,5,8,8,8,8,8,8,5,11,5,1,11,1,8,1,8,11,8,11,8)
pchs <- c(1,2,3,4,19)
ltys <- c(1,2,3,4,1)
plot(c(0,0), xlim=c(1,32), ylim = c(-3,5), type = "n",xlab="task",ylab=expression(paste("Ability Value ",theta)))
lines(S1,  lwd = 1.5,lty=1,col = rainbow(12)[1],pch = 1,type = "l")
par(new=T)
lines(S2,   lwd = 1.5,ann=F,lty=2,col = rainbow(12)[5],pch = 2,type = "l")
par(new=T)
lines(S3,   lwd = 1.5,ann=F,lty=3,col = rainbow(12)[8],pch = 3,type = "l")
par(new=T)
lines(S4,   lwd = 1.5,ann=F,lty=4,col = rainbow(12)[11],pch = 4,type = "l")
par(new=T)
plot(res, xlim=c(1,32), ylim=c(-1, 9),type="l", axes=F, xlab="", ylab="",lty=1,pch=19,col = 1)
par(new=T)
plot(res, xlim=c(1,32), ylim=c(-1, 9),type="p", axes=F, xlab="", ylab="",lty=1,pch=19,col = rainbow(12)[color])
#lines(res,   lwd = 1.5,ann=F,lty=3,col=1)
mtext("Response",side = 4)
axis(side=4,c(0,1),cex=0.8)
mtext(text="Response",at=26,line=-10.5,padj=2.5,adj=-0.6,cex=1.0)
legend("topleft", legend=c("skill_1","skill_2","skill_3","skill_4"),lwd=2, lty=ltys,cex = 1.0,col =c(rainbow(12)[c(1,5,8,11)],"black"),pch=c("","","","","●"))#pch=pchs
par(mar=c(4, 4, 1, 3) + 0.1)
S1<-c(-0.004751206,0.058004472,1.013285342,1.020258195,1.85524256,1.848557848,1.80343604,1.674755329,1.470871604,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.975567381,1.975567381,2.034058613,2.034058613,1.992279161,1.992279161,1.992279161,1.992279161,1.992279161,1.992279161)
S2<-c(0,0,0,0,0,0,0,0,0,0,0.000257036,0.272659064,0.56344405,0.56344405,0.56344405,0.56344405,0.56344405,0.56344405,0.56344405,0.66037237,0.66037237,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314)
S3<-c(0,0,0,0,0,0,0,0,0,0,0,0,0,-0.000351568,0.289916575,1.837554776,2.181474377,3.147654118,3.433425568,3.433425568,3.433425568,3.433425568,3.433425568,3.433425568,3.433425568,3.749278222,3.749278222,4.021680247,4.021680247,4.008310823,4.008310823,3.819467701)
S4<-c(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.000114124,-0.000114124,-0.000114124,0.202468845,0.202468845,0.202468845,0.202468845,0.202468845,0.886784545,0.886784545,1.548038955,1.548038955)
res<-c(1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1)
color<-c(1,1,1,1,1,1,1,1,1,1,5,5,5,8,8,8,8,8,8,5,11,5,1,11,1,8,1,8,11,8,11,8)
pchs <- c(1,2,3,4,19)
ltys <- c(1,2,3,4,1)
plot(c(0,0), xlim=c(1,32), ylim = c(-3,5), type = "n",xlab="task",ylab=expression(paste("Ability Value ",theta)))
lines(S1,  lwd = 2.5,lty=1,col = rainbow(12)[1],pch = 1,type = "l")
par(new=T)
lines(S2,   lwd = 1.5,ann=F,lty=2,col = rainbow(12)[5],pch = 2,type = "l")
par(new=T)
lines(S3,   lwd = 1.5,ann=F,lty=3,col = rainbow(12)[8],pch = 3,type = "l")
par(new=T)
lines(S4,   lwd = 1.5,ann=F,lty=4,col = rainbow(12)[11],pch = 4,type = "l")
par(new=T)
plot(res, xlim=c(1,32), ylim=c(-1, 9),type="l", axes=F, xlab="", ylab="",lty=1,pch=19,col = 1)
par(new=T)
plot(res, xlim=c(1,32), ylim=c(-1, 9),type="p", axes=F, xlab="", ylab="",lty=1,pch=19,col = rainbow(12)[color])
#lines(res,   lwd = 1.5,ann=F,lty=3,col=1)
mtext("Response",side = 4)
axis(side=4,c(0,1),cex=0.8)
mtext(text="Response",at=26,line=-10.5,padj=2.5,adj=-0.6,cex=1.0)
legend("topleft", legend=c("skill_1","skill_2","skill_3","skill_4"),lwd=2, lty=ltys,cex = 1.0,col =c(rainbow(12)[c(1,5,8,11)],"black"),pch=c("","","","","●"))#pch=pchs
par(mar=c(4, 4, 1, 3) + 0.1)
S1<-c(-0.004751206,0.058004472,1.013285342,1.020258195,1.85524256,1.848557848,1.80343604,1.674755329,1.470871604,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.975567381,1.975567381,2.034058613,2.034058613,1.992279161,1.992279161,1.992279161,1.992279161,1.992279161,1.992279161)
S2<-c(0,0,0,0,0,0,0,0,0,0,0.000257036,0.272659064,0.56344405,0.56344405,0.56344405,0.56344405,0.56344405,0.56344405,0.56344405,0.66037237,0.66037237,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314)
S3<-c(0,0,0,0,0,0,0,0,0,0,0,0,0,-0.000351568,0.289916575,1.837554776,2.181474377,3.147654118,3.433425568,3.433425568,3.433425568,3.433425568,3.433425568,3.433425568,3.433425568,3.749278222,3.749278222,4.021680247,4.021680247,4.008310823,4.008310823,3.819467701)
S4<-c(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.000114124,-0.000114124,-0.000114124,0.202468845,0.202468845,0.202468845,0.202468845,0.202468845,0.886784545,0.886784545,1.548038955,1.548038955)
res<-c(1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1)
color<-c(1,1,1,1,1,1,1,1,1,1,5,5,5,8,8,8,8,8,8,5,11,5,1,11,1,8,1,8,11,8,11,8)
pchs <- c(1,2,3,4,19)
ltys <- c(1,2,3,4,1)
plot(c(0,0), xlim=c(1,32), ylim = c(-3,5), type = "n",xlab="task",ylab=expression(paste("Ability Value ",theta)))
lines(S1,  lwd = 2.0,lty=1,col = rainbow(12)[1],pch = 1,type = "l")
par(new=T)
lines(S2,   lwd = 2.0,ann=F,lty=2,col = rainbow(12)[5],pch = 2,type = "l")
par(new=T)
lines(S3,   lwd = 2.0,ann=F,lty=3,col = rainbow(12)[8],pch = 3,type = "l")
par(new=T)
lines(S4,   lwd = 2.0,ann=F,lty=4,col = rainbow(12)[11],pch = 4,type = "l")
par(new=T)
plot(res, xlim=c(1,32), ylim=c(-1, 9),type="l", axes=F, xlab="", ylab="",lty=1,pch=19,col = 1)
par(new=T)
plot(res, xlim=c(1,32), ylim=c(-1, 9),type="p", axes=F, xlab="", ylab="",lty=1,pch=19,col = rainbow(12)[color])
#lines(res,   lwd = 1.5,ann=F,lty=3,col=1)
mtext("Response",side = 4)
axis(side=4,c(0,1),cex=0.8)
mtext(text="Response",at=26,line=-10.5,padj=2.5,adj=-0.6,cex=1.0)
legend("topleft", legend=c("skill_1","skill_2","skill_3","skill_4"),lwd=2, lty=ltys,cex = 1.0,col =c(rainbow(12)[c(1,5,8,11)],"black"),pch=c("","","","","●"))#pch=pchs
par(mar=c(4, 4, 1, 3) + 0.1)
S1<-c(-0.004751206,0.058004472,1.013285342,1.020258195,1.85524256,1.848557848,1.80343604,1.674755329,1.470871604,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.975567381,1.975567381,2.034058613,2.034058613,1.992279161,1.992279161,1.992279161,1.992279161,1.992279161,1.992279161)
S2<-c(0,0,0,0,0,0,0,0,0,0,0.000257036,0.272659064,0.56344405,0.56344405,0.56344405,0.56344405,0.56344405,0.56344405,0.56344405,0.66037237,0.66037237,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314)
S3<-c(0,0,0,0,0,0,0,0,0,0,0,0,0,-0.000351568,0.289916575,1.837554776,2.181474377,3.147654118,3.433425568,3.433425568,3.433425568,3.433425568,3.433425568,3.433425568,3.433425568,3.749278222,3.749278222,4.021680247,4.021680247,4.008310823,4.008310823,3.819467701)
S4<-c(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.000114124,-0.000114124,-0.000114124,0.202468845,0.202468845,0.202468845,0.202468845,0.202468845,0.886784545,0.886784545,1.548038955,1.548038955)
res<-c(1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1)
color<-c(1,1,1,1,1,1,1,1,1,1,5,5,5,8,8,8,8,8,8,5,11,5,1,11,1,8,1,8,11,8,11,8)
pchs <- c(1,2,3,4,19)
ltys <- c(1,2,3,4,1)
plot(c(0,0), xlim=c(1,32), ylim = c(-3,5), type = "n",xlab="task",ylab=expression(paste("Ability Value ",theta)))
lines(S1,  lwd = 2.0,lty=1,col = rainbow(12)[1],pch = 1,type = "l")
par(new=T)
lines(S2,   lwd = 2.0,ann=F,lty=2,col = rainbow(12)[5],pch = 2,type = "l")
par(new=T)
lines(S3,   lwd = 2.0,ann=F,lty=5,col = rainbow(12)[8],pch = 3,type = "l")
par(new=T)
lines(S4,   lwd = 2.0,ann=F,lty=4,col = rainbow(12)[11],pch = 4,type = "l")
par(new=T)
plot(res, xlim=c(1,32), ylim=c(-1, 9),type="l", axes=F, xlab="", ylab="",lty=1,pch=19,col = 1)
par(new=T)
plot(res, xlim=c(1,32), ylim=c(-1, 9),type="p", axes=F, xlab="", ylab="",lty=1,pch=19,col = rainbow(12)[color])
#lines(res,   lwd = 1.5,ann=F,lty=3,col=1)
mtext("Response",side = 4)
axis(side=4,c(0,1),cex=0.8)
mtext(text="Response",at=26,line=-10.5,padj=2.5,adj=-0.6,cex=1.0)
legend("topleft", legend=c("skill_1","skill_2","skill_3","skill_4"),lwd=2, lty=ltys,cex = 1.0,col =c(rainbow(12)[c(1,5,8,11)],"black"),pch=c("","","","","●"))#pch=pchs
par(mar=c(4, 4, 1, 3) + 0.1)
S1<-c(-0.004751206,0.058004472,1.013285342,1.020258195,1.85524256,1.848557848,1.80343604,1.674755329,1.470871604,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.449146289,1.975567381,1.975567381,2.034058613,2.034058613,1.992279161,1.992279161,1.992279161,1.992279161,1.992279161,1.992279161)
S2<-c(0,0,0,0,0,0,0,0,0,0,0.000257036,0.272659064,0.56344405,0.56344405,0.56344405,0.56344405,0.56344405,0.56344405,0.56344405,0.66037237,0.66037237,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314,0.725548314)
S3<-c(0,0,0,0,0,0,0,0,0,0,0,0,0,-0.000351568,0.289916575,1.837554776,2.181474377,3.147654118,3.433425568,3.433425568,3.433425568,3.433425568,3.433425568,3.433425568,3.433425568,3.749278222,3.749278222,4.021680247,4.021680247,4.008310823,4.008310823,3.819467701)
S4<-c(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.000114124,-0.000114124,-0.000114124,0.202468845,0.202468845,0.202468845,0.202468845,0.202468845,0.886784545,0.886784545,1.548038955,1.548038955)
res<-c(1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1)
color<-c(1,1,1,1,1,1,1,1,1,1,5,5,5,8,8,8,8,8,8,5,11,5,1,11,1,8,1,8,11,8,11,8)
pchs <- c(1,2,3,4,19)
ltys <- c(1,2,5,4,1)
plot(c(0,0), xlim=c(1,32), ylim = c(-3,5), type = "n",xlab="task",ylab=expression(paste("Ability Value ",theta)))
lines(S1,  lwd = 2.0,lty=1,col = rainbow(12)[1],pch = 1,type = "l")
par(new=T)
lines(S2,   lwd = 2.0,ann=F,lty=2,col = rainbow(12)[5],pch = 2,type = "l")
par(new=T)
lines(S3,   lwd = 2.0,ann=F,lty=5,col = rainbow(12)[8],pch = 3,type = "l")
par(new=T)
lines(S4,   lwd = 2.0,ann=F,lty=4,col = rainbow(12)[11],pch = 4,type = "l")
par(new=T)
plot(res, xlim=c(1,32), ylim=c(-1, 9),type="l", axes=F, xlab="", ylab="",lty=1,pch=19,col = 1)
par(new=T)
plot(res, xlim=c(1,32), ylim=c(-1, 9),type="p", axes=F, xlab="", ylab="",lty=1,pch=19,col = rainbow(12)[color])
#lines(res,   lwd = 1.5,ann=F,lty=3,col=1)
mtext("Response",side = 4)
axis(side=4,c(0,1),cex=0.8)
mtext(text="Response",at=26,line=-10.5,padj=2.5,adj=-0.6,cex=1.0)
legend("topleft", legend=c("skill_1","skill_2","skill_3","skill_4"),lwd=2, lty=ltys,cex = 1.0,col =c(rainbow(12)[c(1,5,8,11)],"black"),pch=c("","","","","●"))#pch=pchs
setwd("/Users/tsutsumi/Documents/時系列データ実験/実験データ/STATICS")
setwd("/Users/tsutsumi/Documents/IEEE2020時系列データ実験/実験データ/STATICS")
data_as <- read.table(paste0("STATICS_train.csv"),sep = ",", header=T)
data_as <- read.table(paste0("STATICS_train.csv"),sep = ",", header=F)
data_as <- read.table(paste0("STATICS_train.csv"),sep = ",", header=F)
data_as <- read.table(paste0("STATICS_train.csv"),sep = ",")
data_as <- read.csv("STATICS_train.csv",sep = ",", header=F)
View(data_as)
data_as <- read.csv("STATICS_train_2.csv",sep = ",", header=F)
View(data_as)
qs_list<-read.csv("STATICS_qid_sid_sname",sep = "\t", header=F)
View(qs_list)
qs_list<-read.csv("STATICS_qid_sid_sname",sep = "\t", header=T)
View(qs_list)
length(rownames(data_as))
user<-length(rownames(data_as))/3
d_q<-data_as[2,]
d_s<-qs_list[qs_list$qid%in%d_q,"skillid"]
View(d_q)
View(d_q)
d_q<-transform(data_as[2,])
View(d_q)
d_q<-transform(data_as[2,])
d_q<-data_as[2,]
d_u<-data_as[1:3,]
View(d_u)
str(d_u)
d_u<-t(data_as[1:3,])
View(d_u)
colnames(d_u)<-c("user_id","q_id","s_name")
View(d_u)
merge(d_u,qs_list,all.x)
merge(d_u,qs_list,all.x=TRUE)
colnames(d_u)<-c("user_id","qid","s_name")
colnames(d_u)<-c("user_id","qid","s_name")
merge(d_u,qs_list,by = "qid", all.x=TRUE)
d_u<-t(data_as[1:3,1:200])
colnames(d_u)<-c("user_id","qid","s_name")
d_u$order<-[1:200]
d_u$order<-c(1:200)
d_u<-t(data_as[1:3,1:200])
colnames(d_u)<-c("user_id","qid","s_name")
d_u<-t(data_as[1:3,1:200])
d_u[,4]<-c(1:200)
d_u<-cbind(d_u,t(c(1:200)))
d_u<-cbind(d_u,1:200)
colnames(d_u)<-c("user_id","qid","s_name","order")
merge(d_u,qs_list,by = "qid", all.x=TRUE)
d_q_s<-merge(d_u,qs_list,by = "qid", all.x=TRUE)
View(d_q_s)
d_u<-t(data_as[1:3,1:200])
d_u<-cbind(d_u,1:200)
colnames(d_u)<-c("user_id","qid","s_name","order")
d_q_s<-merge(d_u,qs_list,by = "qid", all.x=TRUE)
d_q_s
d_q_s[order(d_q_s$order),]
d_q_s
order(d_q_s$order)
d_q_s[order(d_q_s$order),]
View(d_q_s)
d_q_s[order(d_q_s$order),]
d_q_s<-d_q_s[order(d_q_s$order),]
d_u<-t(data_as[1:3,1:200])
d_u<-cbind(d_u,1:200)
colnames(d_u)<-c("user_id","qid","response","order")
d_q_s<-merge(d_u,qs_list,by = "qid", all.x=TRUE)
d_q_s<-d_q_s[order(d_q_s$order),]
D_u<-t(d_q_s[,c("user_id","skillid","qid","response")])
View(D_u)
D_u<-t(d_q_s[,c("user_id","skillid","qid","response","order")])
View(d_q_s)
data<-data_as
data<-data[-1:3,]
data<-data[!1:3,]
View(data)
data<-data_as
data<-data[!c(1:3),]
View(data)
data<-data_as
data<-data[4:length(row.names(data)),]
data<-data_as
user<-length(rownames(data_as))/3
D<-data.frame()
for(i in  1:user){
d_u<-t(data[1:3,1:200])
d_u<-cbind(d_u,1:200)
colnames(d_u)<-c("user_id","qid","response","order")
d_q_s<-merge(d_u,qs_list,by = "qid", all.x=TRUE)
d_q_s<-d_q_s[order(d_q_s$order),]
D_u<-t(d_q_s[,c("user_id","skillid","qid","response")])
D<-rbind(D,D_u)
if(length(row.names(data))>3){
data<-data[4:length(row.names(data)),]
}
}
View(D)
data<-data_as
user<-length(rownames(data_as))/3
D<-data.frame()
d_u<-t(data[1:3,1:200])
d_u<-cbind(d_u,1:200)
colnames(d_u)<-c("user_id","qid","response","order")
d_q_s<-merge(d_u,qs_list,by = "qid", all.x=TRUE)
d_q_s<-d_q_s[order(d_q_s$order),]
D_u<-t(d_q_s[,c("user_id","skillid","qid","response")])
D<-rbind(D,D_u)
if(length(row.names(data))>3){
data<-data[4:length(row.names(data)),]
}
user
i<-2
d_u<-t(data[1:3,1:200])
d_u<-cbind(d_u,1:200)
colnames(d_u)<-c("user_id","qid","response","order")
d_q_s<-merge(d_u,qs_list,by = "qid", all.x=TRUE)
d_q_s<-d_q_s[order(d_q_s$order),]
D_u<-t(d_q_s[,c("user_id","skillid","qid","response")])
D<-rbind(D,D_u)
i<-
1
d_u<-t(data[1:3,1:200])
d_u<-cbind(d_u,1:200)
colnames(d_u)<-c("user_id","qid","response","order")
d_q_s<-merge(d_u,qs_list,by = "qid", all.x=TRUE)
data<-data_as
d_u<-t(data[1:3,1:200])
d_u<-cbind(d_u,1:200)
colnames(d_u)<-c("user_id","qid","response","order")
d_q_s<-merge(d_u,qs_list,by = "qid", all.x=TRUE)
d_q_s<-d_q_s[order(d_q_s$order),]
D_u<-t(d_q_s[,c("user_id","skillid","qid","response")])
colnames(D_u)<-c(1:200)
D<-rbind(D,D_u)
if(length(row.names(data))>3){
data<-data[4:length(row.names(data)),]
}
D<-data.frame()
data<-data_as
d_u<-t(data[1:3,1:200])
d_u<-cbind(d_u,1:200)
colnames(d_u)<-c("user_id","qid","response","order")
d_q_s<-merge(d_u,qs_list,by = "qid", all.x=TRUE)
d_q_s<-d_q_s[order(d_q_s$order),]
D_u<-t(d_q_s[,c("user_id","skillid","qid","response")])
colnames(D_u)<-c(1:200)
D<-rbind(D,D_u)
if(length(row.names(data))>3){
data<-data[4:length(row.names(data)),]
}
colnames(D_u)<-c(1:200)
colnames(D_u)
View(D_u)
i<-2
d_u<-t(data[1:3,1:200])
d_u<-cbind(d_u,1:200)
colnames(d_u)<-c("user_id","qid","response","order")
d_q_s<-merge(d_u,qs_list,by = "qid", all.x=TRUE)
d_q_s<-d_q_s[order(d_q_s$order),]
D_u<-t(d_q_s[,c("user_id","skillid","qid","response")])
colnames(D_u)<-c(1:200)
D<-rbind(D,D_u)
if(length(row.names(data))>3){
data<-data[4:length(row.names(data)),]
}
data<-data_as
user<-length(rownames(data_as))/3
D<-data.frame()
for(i in  1:user){
print(paste0(i,"/",user))
d_u<-t(data[1:3,1:200])
d_u<-cbind(d_u,1:200)
colnames(d_u)<-c("user_id","qid","response","order")
d_q_s<-merge(d_u,qs_list,by = "qid", all.x=TRUE)
d_q_s<-d_q_s[order(d_q_s$order),]
D_u<-t(d_q_s[,c("user_id","skillid","qid","response")])
colnames(D_u)<-c(1:200)
D<-rbind(D,D_u)
if(length(row.names(data))>3){
data<-data[4:length(row.names(data)),]
}
}
i=1
data<-data_as
d_u<-t(data[1:3,])
ncol(d_u)>200
ncol(d_u)
nrol(d_u)
nrow(d_u)
View(d_u)
d_u[1,1]
d_u[1,1]<-200
d_u<-d_u[1:200,]
View(d_u)
d_u<-cbind(d_u,1:200)
colnames(d_u)<-c("user_id","qid","response","order")
data<-data_as
user<-length(rownames(data_as))/3
D<-data.frame()
for(i in  1:user){
print(paste0(i,"/",user))
d_u<-t(data[1:3,])
if(nrow(d_u)>200){
d_u[1,1]<-200
}
d_u<-d_u[1:200,]
d_u<-cbind(d_u,1:200)
colnames(d_u)<-c("user_id","qid","response","order")
d_q_s<-merge(d_u,qs_list,by = "qid", all.x=TRUE)
d_q_s<-d_q_s[order(d_q_s$order),]
D_u<-t(d_q_s[,c("user_id","skillid","qid","response")])
colnames(D_u)<-c(1:200)
D<-rbind(D,D_u)
if(length(row.names(data))>3){
data<-data[4:length(row.names(data)),]
}
}
write.table(result,"STATICS_skill_item_all.csv",sep=",",row.names = FALSE,col.names = FALSE,na="")
result<-D
setwd("/Users/tsutsumi/Documents/IEEE2020時系列データ実験/実験データ/kinoshita_deep_IRT/STATICS_skill_item")
write.table(result,"STATICS_skill_item_all.csv",sep=",",row.names = FALSE,col.names = FALSE,na="")
#10分割用
setwd("/Users/tsutsumi/Documents/IEEE2020時系列データ実験/実験データ/kinoshita_deep_IRT/STATICS_skill_item")
user
user/10
#10分割用
setwd("/Users/tsutsumi/Documents/IEEE2020時系列データ実験/実験データ/kinoshita_deep_IRT/STATICS_skill_item")
for(i in 0:9){
c<-22*4 #学習者/10*4
c_<-c+1
train<-result[c_:nrow(result),]
valid<-result[1:c,]
write.table(train,paste0("assist_skill_item_train",i,".csv"),sep = ",",row.names = FALSE,col.names = FALSE,na = "")
write.table(valid,paste0("assist_skill_item_valid",i,".csv"),sep = ",",row.names = FALSE,col.names = FALSE,na = "")
result<-rbind(train,valid)
}
View(qs_list)
length(unique(qs_list$qid))
source('~/.active-rstudio-document')
setwd("/Users/tsutsumi/Documents/IEEE2020時系列データ実験/実験データ/STATICS")
data_as <- read.csv("STATICS_train_2.csv",sep = ",", header=F)
qs_list<-read.csv("STATICS_qid_sid_sname",sep = "\t", header=T)
data<-data_as
user<-length(rownames(data_as))/3
D<-data.frame()
for(i in  1:user){
print(paste0(i,"/",user))
d_u<-t(data[1:3,])
if(nrow(d_u)>200){
d_u[1,1]<-200
}else if((nrow(d_u)<5)){
next
}
d_u<-d_u[1:200,]
d_u<-cbind(d_u,1:200)
colnames(d_u)<-c("user_id","qid","response","order")
d_q_s<-merge(d_u,qs_list,by = "qid", all.x=TRUE)
d_q_s<-d_q_s[order(d_q_s$order),]
D_u<-t(d_q_s[,c("user_id","skillid","qid","response")])
colnames(D_u)<-c(1:200)
D<-rbind(D,D_u)
if(length(row.names(data))>3){
data<-data[4:length(row.names(data)),]
}
}
result<-D
setwd("/Users/tsutsumi/Documents/IEEE2020時系列データ実験/実験データ/kinoshita_deep_IRT/STATICS_skill_item")
write.table(result,"STATICS_skill_item_all.csv",sep=",",row.names = FALSE,col.names = FALSE,na="")
#10分割用
setwd("/Users/tsutsumi/Documents/IEEE2020時系列データ実験/実験データ/kinoshita_deep_IRT/STATICS_skill_item")
for(i in 0:9){
c<-22*4 #学習者/10*4
c_<-c+1
train<-result[c_:nrow(result),]
valid<-result[1:c,]
write.table(train,paste0("assist_skill_item_train",i,".csv"),sep = ",",row.names = FALSE,col.names = FALSE,na = "")
write.table(valid,paste0("assist_skill_item_valid",i,".csv"),sep = ",",row.names = FALSE,col.names = FALSE,na = "")
result<-rbind(train,valid)
}
